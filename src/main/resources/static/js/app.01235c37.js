(function(){"use strict";var e={5257:function(e,t,s){var n=s(5130),a=s(6768);const o={id:"app"},r={class:"container mt-3"};function l(e,t,s,n,l,c){const u=(0,a.g2)("QuestionNavbar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[((0,a.uX)(),(0,a.Wv)(u,{key:l.authKey})),(0,a.Lk)("div",r,[(0,a.bF)(i,{onUpdateAuth:c.updateAuth},null,8,["onUpdateAuth"])])])}var c=s(4232);const u={class:"navbar navbar-expand-lg navbar-light bg-light"},i={class:"container-fluid"},d={class:"d-flex align-items-center"},m={key:0,class:"me-3"};function v(e,t,s,n,o,r){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("nav",u,[(0,a.Lk)("div",i,[t[3]||(t[3]=(0,a.Lk)("a",{class:"navbar-brand",href:"/"},"ÏßàÎ¨∏Í≥º ÎãµÎ≥Ä",-1)),(0,a.Lk)("div",d,[n.currentUser?((0,a.uX)(),(0,a.CE)("span",m," ÏïàÎÖïÌïòÏÑ∏Ïöî, "+(0,c.v_)(n.currentUser)+" Îãò! ",1)):(0,a.Q3)("",!0),n.isAuthenticated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(l,{key:1,to:"/signup",class:"btn btn-outline-success me-2"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)(" ÌöåÏõêÍ∞ÄÏûÖ ")]))),_:1})),n.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:2,class:"btn btn-outline-danger me-2",onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))}," Î°úÍ∑∏ÏïÑÏõÉ ")):((0,a.uX)(),(0,a.Wv)(l,{key:3,to:"/login",class:"btn btn-outline-primary"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" Î°úÍ∑∏Ïù∏ ")]))),_:1}))])])])}s(4114);var b=s(4373);const p=b.A.create({baseURL:"http://localhost:8080/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});var f=p,h=s(2261);const k=(0,h.nY)("user",{state:()=>({currentUser:null}),actions:{async fetchUser(){try{const e=await f.get("/user/me");this.currentUser=e.data.username}catch(e){if(this.currentUser=null,e.response&&404===e.response.status)throw new Error("USER_NOT_FOUND")}}}});var y=s(1387),w={setup(){const e=k(),t=(0,y.rd)(),s=(0,a.EW)((()=>e.currentUser)),n=(0,a.EW)((()=>!!e.currentUser)),o=async()=>{try{await e.fetchUser()}catch(t){console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:",t)}};(0,a.sV)((()=>{o()}));const r=async()=>{try{await f.post("/user/logout",{},{withCredentials:!0}),e.currentUser=null,t.push("/login")}catch(s){console.error("Î°úÍ∑∏ÏïÑÏõÉ Ïã§Ìå®:",s.response?.data||s.message)}};return{userStore:e,currentUser:s,isAuthenticated:n,logout:r}}},g=s(1241);const L=(0,g.A)(w,[["render",v]]);var C=L,E={components:{QuestionNavbar:C},data(){return{authKey:0}},methods:{updateAuth(){this.authKey++}}};const U=(0,g.A)(E,[["render",l]]);var x=U;const X={class:"container my-3"},A={class:"d-flex justify-content-between align-items-center"},_={class:"table"},q={class:"text-start"},D={key:0,class:"comment-count"},K={class:"d-flex justify-content-center align-items-center my-3"},j=["disabled"],Q={key:0,class:"mx-1"},R=["onClick"],M={key:1,class:"mx-1"},P=["disabled"],O={class:"input-group mt-3"};function W(e,t,s,o,r,l){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",A,[t[6]||(t[6]=(0,a.Lk)("h2",{class:"border-bottom py-2"},"ÏßàÎ¨∏ Î™©Î°ù",-1)),o.isAuthenticated?((0,a.uX)(),(0,a.Wv)(u,{key:0,to:"/questions/new",class:"btn btn-primary btn-sm"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" ÏßàÎ¨∏ ÏûëÏÑ±ÌïòÍ∏∞ ")]))),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("table",_,[t[7]||(t[7]=(0,a.Lk)("thead",{class:"table-dark"},[(0,a.Lk)("tr",{class:"text-center"},[(0,a.Lk)("th",null,"Î≤àÌò∏"),(0,a.Lk)("th",{style:{width:"50%"}},"Ï†úÎ™©"),(0,a.Lk)("th",null,"Í∏ÄÏì¥Ïù¥"),(0,a.Lk)("th",null,"ÏûëÏÑ±ÏùºÏãú")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.questions,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"text-center"},[(0,a.Lk)("td",null,(0,c.v_)(e.id),1),(0,a.Lk)("td",q,[(0,a.bF)(u,{to:`/questions/${e.id}`,class:"custom-link"},{default:(0,a.k6)((()=>[(0,a.eW)((0,c.v_)(e.subject)+" ",1),e.commentCount>0?((0,a.uX)(),(0,a.CE)("span",D," ["+(0,c.v_)(e.commentCount)+"] ",1)):(0,a.Q3)("",!0)])),_:2},1032,["to"])]),(0,a.Lk)("td",null,(0,c.v_)(e.author?.username||"ÏùµÎ™Ö"),1),(0,a.Lk)("td",null,(0,c.v_)(o.formatDate(e.createDate)),1)])))),128))])]),(0,a.Lk)("div",K,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>o.goToPage(o.page-1)),disabled:0===o.page,class:"btn btn-sm btn-secondary mx-1"}," Ïù¥Ï†Ñ ",8,j),o.visiblePageNumbers[0]<o.totalPages?((0,a.uX)(),(0,a.CE)("span",Q,"...")):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visiblePageNumbers,(e=>((0,a.uX)(),(0,a.CE)("button",{key:e,onClick:t=>o.goToPage(o.totalPages-e),class:(0,c.C4)(["btn btn-sm mx-1",{"btn-primary":o.page===o.totalPages-e,"btn-light":o.page!==o.totalPages-e}])},(0,c.v_)(e),11,R)))),128)),o.visiblePageNumbers[o.visiblePageNumbers.length-1]>1?((0,a.uX)(),(0,a.CE)("span",M,"...")):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>o.goToPage(o.page+1)),disabled:o.page>=o.totalPages-1,class:"btn btn-sm btn-secondary mx-1"}," Îã§Ïùå ",8,P)]),(0,a.Lk)("div",O,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.searchKeyword=e),onKeyup:t[3]||(t[3]=(0,n.jR)(((...e)=>o.fetchQuestions&&o.fetchQuestions(...e)),["enter"])),type:"text",class:"form-control",placeholder:"Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî(Ï†úÎ™© & ÎÇ¥Ïö©(ÏßàÎ¨∏/ÎãµÎ≥Ä))"},null,544),[[n.Jo,o.searchKeyword]]),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>o.fetchQuestions&&o.fetchQuestions(...e)),class:"btn btn-outline-secondary"}," Í≤ÄÏÉâ ")])])}s(8111),s(1701);var V=s(144),I=s(1576),S=s.n(I),$={setup(){const e=k(),t=(0,V.KR)([]),s=(0,V.KR)(0),n=(0,V.KR)(10),o=(0,V.KR)(0),r=(0,V.KR)(""),l=(0,a.EW)((()=>!!e.currentUser)),c=(0,a.EW)((()=>Math.ceil(o.value/n.value))),u=(0,a.EW)((()=>{const e=c.value,t=10;if(e<=t)return Array.from({length:e},((t,s)=>e-s));{const n=e-s.value;let a=n+Math.floor(t/2);a>e&&(a=e);let o=a-t+1;o<1&&(o=1,a=o+t-1,a>e&&(a=e));const r=[];for(let e=a;e>=o;e--)r.push(e);return r}})),i=async e=>{try{const t=await f.get(`/questions/${e}/answers`);return t.data.length}catch(t){return console.error(`ÎåìÍ∏Ä Ïàò Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå® (ÏßàÎ¨∏ ID: ${e}):`,t),0}},d=async()=>{try{const e=await f.get(`/questions?page=${s.value}&kw=${r.value}`,{withCredentials:!0}),n=e.data.content,a=await Promise.all(n.map((async e=>({...e,commentCount:await i(e.id)}))));t.value=a,o.value=e.data.totalElements||0}catch(e){console.error("ÏßàÎ¨∏ Î™©Î°ù Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:",e)}},m=e=>{e<0||e>=c.value||(s.value=e,d())},v=()=>{s.value>0&&(s.value--,d())},b=()=>{s.value<c.value-1&&(s.value++,d())};return(0,a.sV)((async()=>{await e.fetchUser(),d()})),{questions:t,page:s,pageSize:n,totalElements:o,searchKeyword:r,isAuthenticated:l,totalPages:c,visiblePageNumbers:u,fetchQuestions:d,prevPage:v,nextPage:b,goToPage:m,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm:ss")}}};const J=(0,g.A)($,[["render",W],["__scopeId","data-v-4c8eceef"]]);var Y=J;const T={class:"container my-3"},N={key:0},F={class:"mt-2"},H={key:1},z={class:"border-bottom py-2"},B={class:"card my-3"},G={class:"card-body"},Z={class:"card-text my-2",style:{"white-space":"pre-line"}},ee={class:"d-flex justify-content-end mt-3"},te={class:"badge bg-light text-dark p-2 text-end"},se={class:"fw-bold"},ne={key:0},ae={class:"d-flex justify-content-end mt-2"},oe={class:"answer-section card shadow-sm"},re={class:"card-body"};function le(e,t,s,o,r,l){const u=(0,a.g2)("AnswerList");return(0,a.uX)(),(0,a.CE)("div",T,[o.editMode?((0,a.uX)(),(0,a.CE)("div",N,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.editedSubject=e),class:"form-control my-2"},null,512),[[n.Jo,o.editedSubject]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.editedContent=e),class:"form-control my-2",rows:"5"},null,512),[[n.Jo,o.editedContent]]),(0,a.Lk)("div",F,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.saveEdit&&o.saveEdit(...e)),class:"btn btn-success btn-sm"},"Ï†ÄÏû•"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),class:"btn btn-secondary btn-sm"}," Ï∑®ÏÜå ")])])):((0,a.uX)(),(0,a.CE)("div",H,[(0,a.Lk)("h2",z,(0,c.v_)(o.question.subject),1),(0,a.Lk)("div",B,[(0,a.Lk)("div",G,[(0,a.Lk)("div",Z,(0,c.v_)(o.question.content),1),(0,a.Lk)("div",ee,[(0,a.Lk)("div",te,[(0,a.Lk)("div",se,(0,c.v_)(o.question.author?.username),1),(0,a.Lk)("div",null,"created at: "+(0,c.v_)(o.formatDate(o.question.createDate)),1),o.question.updateDate&&o.question.updateDate!==o.question.createDate?((0,a.uX)(),(0,a.CE)("div",ne," updated at: "+(0,c.v_)(o.formatDate(o.question.updateDate)),1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",ae,[o.isAuthor?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>o.startEdit&&o.startEdit(...e)),class:"btn btn-sm btn-warning me-1"}," ÏàòÏ†ï ")):(0,a.Q3)("",!0),o.isAuthor?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[5]||(t[5]=(...e)=>o.deleteQuestion&&o.deleteQuestion(...e)),class:"btn btn-sm btn-danger"}," ÏÇ≠Ï†ú ")):(0,a.Q3)("",!0)])])])])),(0,a.Lk)("div",oe,[t[6]||(t[6]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"üí¨ ÎãµÎ≥Ä Î™©Î°ù")],-1)),(0,a.Lk)("div",re,[o.question.id?((0,a.uX)(),(0,a.Wv)(u,{key:0,questionId:o.question.id},null,8,["questionId"])):(0,a.Q3)("",!0)])])])}const ce={class:"answer-container"},ue={class:"card my-3"},ie={class:"card-body"},de={key:0},me={class:"mt-2"},ve=["onClick"],be={key:1},pe={class:"card-text my-2",style:{"white-space":"pre-line"}},fe={class:"d-flex justify-content-end mt-3"},he={class:"badge bg-light text-dark p-2 text-end"},ke={class:"fw-bold"},ye={key:0},we={class:"d-flex justify-content-end mt-2"},ge=["onClick"],Le=["onClick"],Ce={key:0,class:"answer-form"},Ee={key:1,class:"text-center text-muted mt-3"};function Ue(e,t,s,o,r,l){return(0,a.uX)(),(0,a.CE)("div",ce,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.answers,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"answer-item"},[(0,a.Lk)("div",ue,[(0,a.Lk)("div",ie,[o.editMode===e.comment.id?((0,a.uX)(),(0,a.CE)("div",de,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.editedContent=e),class:"form-control",rows:"3"},null,512),[[n.Jo,o.editedContent]]),(0,a.Lk)("div",me,[(0,a.Lk)("button",{onClick:t=>o.saveEdit(e),class:"btn btn-success btn-sm"}," Ï†ÄÏû• ",8,ve),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),class:"btn btn-secondary btn-sm"}," Ï∑®ÏÜå ")])])):((0,a.uX)(),(0,a.CE)("div",be,[(0,a.Lk)("div",pe,(0,c.v_)(e.comment?.content||"ÎÇ¥Ïö© ÏóÜÏùå"),1),(0,a.Lk)("div",fe,[(0,a.Lk)("div",he,[(0,a.Lk)("div",ke,(0,c.v_)(e.comment?.author?.username||"ÏùµÎ™Ö"),1),(0,a.Lk)("div",null," created at: "+(0,c.v_)(o.formatDate(e.comment?.createDate)),1),e.comment?.updateDate&&e.comment?.updateDate!==e.comment?.createDate?((0,a.uX)(),(0,a.CE)("div",ye," updated at: "+(0,c.v_)(o.formatDate(e.comment?.updateDate)),1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",we,[o.isAuthor(e.comment)?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t=>o.startEdit(e),class:"btn btn-sm btn-warning me-1"}," ÏàòÏ†ï ",8,ge)):(0,a.Q3)("",!0),o.isAuthor(e.comment)?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t=>o.deleteAnswer(e.comment.id),class:"btn btn-sm btn-danger"}," ÏÇ≠Ï†ú ",8,Le)):(0,a.Q3)("",!0)])]))])])])))),128)),o.currentUser?((0,a.uX)(),(0,a.CE)("div",Ce,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newAnswer=e),class:"form-control",rows:"3",placeholder:"ÎãµÎ≥ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"},null,512),[[n.Jo,o.newAnswer]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.submitAnswer&&o.submitAnswer(...e)),class:"btn btn-primary mt-2"}," ÎãµÎ≥Ä Îì±Î°ù ")])):((0,a.uX)(),(0,a.CE)("div",Ee," ÎãµÎ≥Ä ÏûëÏÑ±ÏùÄ Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. "))])}var xe={props:["questionId"],setup(e){const t=k(),s=(0,V.KR)([]),n=(0,V.KR)(""),o=(0,V.KR)(null),r=(0,V.KR)(""),l=(0,a.EW)((()=>t.currentUser)),c=async()=>{try{const t=await f.get(`/questions/${e.questionId}/answers`);s.value=t.data,console.log("ÎåìÍ∏Ä Î™©Î°ù:",t.data)}catch(t){console.error("ÎãµÎ≥Ä Î™©Î°ù Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:",t)}},u=e=>l.value&&e?.author?.username===l.value,i=e=>{console.log("ÏàòÏ†ï Î≤ÑÌäº ÌÅ¥Î¶≠Îê® - answer ID:",e.comment.id),o.value=e.comment.id,r.value=e.comment?.content||""},d=async e=>{try{await f.put(`/answers/${e.comment.id}`,{content:r.value},{withCredentials:!0}),await c(),o.value=null,r.value=""}catch(t){console.error("ÏàòÏ†ï Ïã§Ìå®:",t)}},m=()=>{o.value=null,r.value=""},v=async e=>{if(confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{await f.delete(`/answers/${e}`,{withCredentials:!0}),await c()}catch(t){console.error("ÏÇ≠Ï†ú Ïã§Ìå®:",t)}},b=async()=>{if(n.value.trim())try{await f.post(`/answers/${e.questionId}`,{content:n.value},{withCredentials:!0}),await c(),n.value=""}catch(t){console.error("ÎãµÎ≥Ä Îì±Î°ù Ïã§Ìå®:",t)}else alert("ÎãµÎ≥ÄÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.")};return(0,a.sV)((async()=>{await t.fetchUser(),await c()})),{answers:s,newAnswer:n,editMode:o,editedContent:r,currentUser:l,submitAnswer:b,deleteAnswer:v,startEdit:i,saveEdit:d,cancelEdit:m,isAuthor:u,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm")}}};const Xe=(0,g.A)(xe,[["render",Ue],["__scopeId","data-v-2e0cc8f6"]]);var Ae=Xe,_e={components:{AnswerList:Ae},setup(){const e=k(),t=(0,V.KR)({}),s=(0,V.KR)(!1),n=(0,V.KR)(""),o=(0,V.KR)(""),r=(0,a.EW)((()=>e.currentUser)),l=(0,a.EW)((()=>r.value&&t.value.author?.username===r.value)),c=async()=>{try{const e=window.location.pathname.split("/").pop(),s=await f.get(`/questions/${e}`,{withCredentials:!0});t.value=s.data}catch(e){console.error("ÏßàÎ¨∏ Îç∞Ïù¥ÌÑ∞ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:",e)}},u=()=>{s.value=!0,n.value=t.value.subject,o.value=t.value.content},i=async()=>{try{await f.put(`/questions/${t.value.id}`,{subject:n.value,content:o.value},{withCredentials:!0}),await c(),s.value=!1}catch(e){console.error("ÏßàÎ¨∏ ÏàòÏ†ï Ïã§Ìå®:",e)}},d=()=>{s.value=!1,n.value=t.value.subject,o.value=t.value.content},m=async()=>{if(confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{await f.delete(`/questions/${t.value.id}`,{withCredentials:!0}),window.location.href="/"}catch(e){console.error("ÏßàÎ¨∏ ÏÇ≠Ï†ú Ïã§Ìå®:",e)}};return(0,a.sV)((async()=>{await e.fetchUser(),await c()})),{question:t,editMode:s,editedSubject:n,editedContent:o,currentUser:r,isAuthor:l,fetchQuestion:c,startEdit:u,saveEdit:i,cancelEdit:d,deleteQuestion:m,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm:ss")}}};const qe=(0,g.A)(_e,[["render",le],["__scopeId","data-v-74d34ef8"]]);var De=qe;const Ke={class:"container my-3"},je={class:"card my-3"},Qe={class:"card-body"};function Re(e,t,s,o,r,l){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",Ke,[t[4]||(t[4]=(0,a.Lk)("h2",{class:"border-bottom py-2"},"ÏßàÎ¨∏ ÏûëÏÑ±",-1)),(0,a.Lk)("div",je,[(0,a.Lk)("div",Qe,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.subject=e),class:"form-control my-2",placeholder:"ÏßàÎ¨∏Ïùò Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"},null,512),[[n.Jo,r.subject]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.content=e),class:"form-control my-2",rows:"5",placeholder:"ÏßàÎ¨∏Ïùò ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"},null,512),[[n.Jo,r.content]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.submitQuestion&&l.submitQuestion(...e)),class:"btn btn-success btn-sm"}," Îì±Î°ù "),(0,a.bF)(c,{to:"/",class:"btn btn-secondary btn-sm mx-2"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)(" Ï∑®ÏÜå ")]))),_:1})])])])}var Me={data(){return{subject:"",content:""}},methods:{async submitQuestion(){if(this.subject.trim()&&this.content.trim())if(this.subject.trim().length>200)alert("Ï†úÎ™©ÏùÄ 200Ïûê Ïù¥ÎÇ¥Î°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî.");else if(this.content.trim().length>2e4)alert("ÎÇ¥Ïö©ÏùÄ 20000Ïûê Ïù¥ÎÇ¥Î°ú ÏûÖÎ†•ÌïòÏÑ∏Ïöî.");else try{await f.post("/questions/create",{subject:this.subject,content:this.content},{withCredentials:!0}),this.$router.push("/")}catch(e){console.error("ÏßàÎ¨∏ Îì±Î°ù Ïã§Ìå®:",e)}else alert("Ï†úÎ™©Í≥º ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî.")}}};const Pe=(0,g.A)(Me,[["render",Re]]);var Oe=Pe;const We={class:"container my-3"},Ve={key:0,class:"alert alert-danger"},Ie={class:"mb-3"},Se={class:"mb-3"};function $e(e,t,s,o,r,l){return(0,a.uX)(),(0,a.CE)("div",We,[(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>o.handleLogin&&o.handleLogin(...e)),["prevent"]))},[o.errorMessage?((0,a.uX)(),(0,a.CE)("div",Ve,(0,c.v_)(o.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",Ie,[t[3]||(t[3]=(0,a.Lk)("label",{for:"username",class:"form-label"},"ÏÇ¨Ïö©ÏûêID",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:""},null,512),[[n.Jo,o.username]])]),(0,a.Lk)("div",Se,[t[4]||(t[4]=(0,a.Lk)("label",{for:"password",class:"form-label"},"ÎπÑÎ∞ÄÎ≤àÌò∏",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[n.Jo,o.password]])]),t[5]||(t[5]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary"},"Î°úÍ∑∏Ïù∏",-1))],32)])}var Je={setup(){const e=(0,V.KR)(""),t=(0,V.KR)(""),s=(0,V.KR)(""),n=k(),a=(0,y.rd)(),o=async()=>{if(e.value&&t.value)try{await f.post("/user/login",{username:e.value,password:t.value}),await n.fetchUser(),a.push("/")}catch(o){s.value="ÏïÑÏù¥Îîî ÌòπÏùÄ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî."}else s.value="Î™®Îì† ÌïÑÎìúÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."};return{username:e,password:t,errorMessage:s,handleLogin:o}}};const Ye=(0,g.A)(Je,[["render",$e]]);var Te=Ye;const Ne={class:"container my-5"},Fe={key:0,class:"alert alert-success"},He={key:1,class:"alert alert-danger"},ze={class:"mb-3"},Be={class:"mb-3"},Ge={class:"mb-3"},Ze={class:"mb-3"};function et(e,t,s,o,r,l){return(0,a.uX)(),(0,a.CE)("div",Ne,[t[10]||(t[10]=(0,a.Lk)("h2",{class:"text-center mb-4"},"ÌöåÏõêÍ∞ÄÏûÖ",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)(((...e)=>o.handleSignup&&o.handleSignup(...e)),["prevent"])),class:"p-4 border rounded shadow"},[o.successMessage?((0,a.uX)(),(0,a.CE)("div",Fe,(0,c.v_)(o.successMessage),1)):(0,a.Q3)("",!0),o.errorMessage?((0,a.uX)(),(0,a.CE)("div",He,(0,c.v_)(o.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ze,[t[5]||(t[5]=(0,a.Lk)("label",{for:"username",class:"form-label"},"ÏÇ¨Ïö©Ïûê ID",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),type:"text",class:"form-control",id:"username",required:""},null,512),[[n.Jo,o.username]])]),(0,a.Lk)("div",Be,[t[6]||(t[6]=(0,a.Lk)("label",{for:"email",class:"form-label"},"Ïù¥Î©îÏùº",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[n.Jo,o.email]])]),(0,a.Lk)("div",Ge,[t[7]||(t[7]=(0,a.Lk)("label",{for:"password1",class:"form-label"},"ÎπÑÎ∞ÄÎ≤àÌò∏",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.password1=e),type:"password",class:"form-control",id:"password1",required:""},null,512),[[n.Jo,o.password1]])]),(0,a.Lk)("div",Ze,[t[8]||(t[8]=(0,a.Lk)("label",{for:"password2",class:"form-label"},"ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.password2=e),type:"password",class:"form-control",id:"password2",required:""},null,512),[[n.Jo,o.password2]])]),t[9]||(t[9]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Í∞ÄÏûÖÌïòÍ∏∞",-1))],32)])}var tt={setup(){const e=(0,y.rd)(),t=(0,V.KR)(""),s=(0,V.KR)(""),n=(0,V.KR)(""),a=(0,V.KR)(""),o=(0,V.KR)(""),r=(0,V.KR)(""),l=async()=>{if(n.value===a.value)try{const o=await f.post("/user/signup",{username:t.value,email:s.value,password1:n.value,password2:a.value});201===o.status&&(r.value="ÌöåÏõêÍ∞ÄÏûÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.",setTimeout((()=>e.push("/login")),1500))}catch(l){console.error("ÌöåÏõêÍ∞ÄÏûÖ Ïã§Ìå®:",l),o.value=l.response?.data?.error||"ÌöåÏõêÍ∞ÄÏûÖÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§."}else o.value="ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§."};return{username:t,email:s,password1:n,password2:a,errorMessage:o,successMessage:r,handleSignup:l}}};const st=(0,g.A)(tt,[["render",et],["__scopeId","data-v-bc6f9dc2"]]);var nt=st;const at=[{path:"/",component:Y},{path:"/questions/:id",component:De},{path:"/questions/new",component:Oe,meta:{requiresAuth:!0}},{path:"/login",component:Te,meta:{guestOnly:!0}},{path:"/signup",component:nt,meta:{guestOnly:!0}}],ot=(0,y.aE)({history:(0,y.LA)(),routes:at});ot.beforeEach((async(e,t,s)=>{const n=k();try{await n.fetchUser(),e.meta.requiresAuth&&!n.currentUser?s("/login"):e.meta.guestOnly&&n.currentUser?s("/"):s()}catch(a){console.error("Ïú†Ï†Ä ÌôïÏù∏ Ï§ë Ïò§Î•ò:",a),s("/login")}}));var rt=ot;const lt=(0,n.Ef)(x);lt.config.globalProperties.$api=f,lt.use((0,h.Ey)()),lt.use(rt),lt.mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,o){if(!n){var r=1/0;for(i=0;i<e.length;i++){n=e[i][0],a=e[i][1],o=e[i][2];for(var l=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(l=!1,o<r&&(r=o));if(l){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],l=n[1],c=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(c)var i=c(s)}for(t&&t(n);u<r.length;u++)o=r[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(i)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(5257)}));n=s.O(n)})();
//# sourceMappingURL=app.01235c37.js.map