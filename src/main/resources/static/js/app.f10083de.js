(function(){"use strict";var e={4321:function(e,t,n){var s=n(5130),a=n(6768);const o={id:"app"},r={class:"container mt-3"};function l(e,t,n,s,l,c){const u=(0,a.g2)("QuestionNavbar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[((0,a.uX)(),(0,a.Wv)(u,{key:l.authKey})),(0,a.Lk)("div",r,[(0,a.bF)(i,{onUpdateAuth:c.updateAuth},null,8,["onUpdateAuth"])])])}var c=n(4232);const u={class:"navbar navbar-expand-lg navbar-light bg-light"},i={class:"container-fluid"},d={class:"d-flex align-items-center"},m={key:0,class:"me-3"};function v(e,t,n,s,o,r){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("nav",u,[(0,a.Lk)("div",i,[t[3]||(t[3]=(0,a.Lk)("a",{class:"navbar-brand",href:"/"},"질문과 답변",-1)),(0,a.Lk)("div",d,[s.currentUser?((0,a.uX)(),(0,a.CE)("span",m," 안녕하세요, "+(0,c.v_)(s.currentUser)+" 님! ",1)):(0,a.Q3)("",!0),s.isAuthenticated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(l,{key:1,to:"/signup",class:"btn btn-outline-success me-2"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)(" 회원가입 ")]))),_:1})),s.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:2,class:"btn btn-outline-danger me-2",onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))}," 로그아웃 ")):((0,a.uX)(),(0,a.Wv)(l,{key:3,to:"/login",class:"btn btn-outline-primary"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)(" 로그인 ")]))),_:1}))])])])}n(4114);var p=n(4373);const b=p.A.create({baseURL:"http://localhost:8080/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});var f=b,k=n(2261);const h=(0,k.nY)("user",{state:()=>({currentUser:null}),actions:{async fetchUser(){try{const e=await f.get("/user/me");this.currentUser=e.data.username}catch(e){if(this.currentUser=null,e.response&&404===e.response.status)throw new Error("USER_NOT_FOUND")}}}});var y=n(1387),w={setup(){const e=h(),t=(0,y.rd)(),n=(0,a.EW)((()=>e.currentUser)),s=(0,a.EW)((()=>!!e.currentUser)),o=async()=>{try{await e.fetchUser()}catch(t){console.error("❌ 사용자 정보 가져오기 실패:",t)}};(0,a.sV)((()=>{o()}));const r=async()=>{try{await f.post("/user/logout",{},{withCredentials:!0}),e.currentUser=null,t.push("/login")}catch(n){console.error("로그아웃 실패:",n.response?.data||n.message)}};return{userStore:e,currentUser:n,isAuthenticated:s,logout:r}}},g=n(1241);const L=(0,g.A)(w,[["render",v]]);var C=L,E={components:{QuestionNavbar:C},data(){return{authKey:0}},methods:{updateAuth(){this.authKey++}}};const U=(0,g.A)(E,[["render",l]]);var _=U;const x={class:"container my-3"},A={class:"d-flex justify-content-between align-items-center"},q={class:"table"},X={class:"text-start"},D={key:0,class:"comment-count"},K={class:"d-flex justify-content-center"},j=["disabled"],Q={class:"mx-2"},R=["disabled"],M={class:"input-group mt-3"};function O(e,t,n,o,r,l){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",A,[t[6]||(t[6]=(0,a.Lk)("h2",{class:"border-bottom py-2"},"질문 목록",-1)),o.isAuthenticated?((0,a.uX)(),(0,a.Wv)(u,{key:0,to:"/questions/new",class:"btn btn-primary btn-sm"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)(" 질문 작성하기 ")]))),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("table",q,[t[7]||(t[7]=(0,a.Lk)("thead",{class:"table-dark"},[(0,a.Lk)("tr",{class:"text-center"},[(0,a.Lk)("th",null,"번호"),(0,a.Lk)("th",{style:{width:"50%"}},"제목"),(0,a.Lk)("th",null,"글쓴이"),(0,a.Lk)("th",null,"작성일시")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.questions,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"text-center"},[(0,a.Lk)("td",null,(0,c.v_)(e.id),1),(0,a.Lk)("td",X,[(0,a.bF)(u,{to:`/questions/${e.id}`,class:"custom-link"},{default:(0,a.k6)((()=>[(0,a.eW)((0,c.v_)(e.subject)+" ",1),e.commentCount>0?((0,a.uX)(),(0,a.CE)("span",D,"["+(0,c.v_)(e.commentCount)+"]",1)):(0,a.Q3)("",!0)])),_:2},1032,["to"])]),(0,a.Lk)("td",null,(0,c.v_)(e.author?.username||"익명"),1),(0,a.Lk)("td",null,(0,c.v_)(o.formatDate(e.createDate)),1)])))),128))])]),(0,a.Lk)("div",K,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:0===o.page,class:"btn btn-sm btn-secondary mx-1"}," 이전 ",8,j),(0,a.Lk)("span",Q,"페이지 "+(0,c.v_)(o.page+1)+" / "+(0,c.v_)(o.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.page>=o.totalPages.value-1,class:"btn btn-sm btn-secondary mx-1"}," 다음 ",8,R)]),(0,a.Lk)("div",M,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.searchKeyword=e),onKeyup:t[3]||(t[3]=(0,s.jR)(((...e)=>o.fetchQuestions&&o.fetchQuestions(...e)),["enter"])),type:"text",class:"form-control",placeholder:"검색어를 입력하세요(제목 & 내용(질문/답변))"},null,544),[[s.Jo,o.searchKeyword]]),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>o.fetchQuestions&&o.fetchQuestions(...e)),class:"btn btn-outline-secondary"}," 검색 ")])])}n(8111),n(1701);var V=n(144),W=n(1576),S=n.n(W),$={setup(){const e=h(),t=(0,V.KR)([]),n=(0,V.KR)(0),s=(0,V.KR)(10),o=(0,V.KR)(0),r=(0,V.KR)(""),l=(0,a.EW)((()=>!!e.currentUser)),c=async e=>{try{const t=await f.get(`/questions/${e}/answers`);return t.data.length}catch(t){return console.error(`❌ 댓글 수 가져오기 실패 (질문 ID: ${e}):`,t),0}},u=async()=>{try{const e=await f.get(`/questions?page=${n.value}&kw=${r.value}`,{withCredentials:!0}),s=e.data.content,a=await Promise.all(s.map((async e=>({...e,commentCount:await c(e.id)}))));t.value=a,o.value=e.data.totalElements||0}catch(e){console.error("❌ 질문 목록 불러오기 실패:",e)}},i=(0,a.EW)((()=>Math.ceil(o.value/s.value))),d=()=>{n.value>0&&(n.value--,u())},m=()=>{n.value<i.value-1&&(n.value++,u())};return(0,a.sV)((async()=>{await e.fetchUser(),u()})),{questions:t,page:n,pageSize:s,totalElements:o,searchKeyword:r,isAuthenticated:l,totalPages:i,fetchQuestions:u,prevPage:d,nextPage:m,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm:ss")}}};const I=(0,g.A)($,[["render",O],["__scopeId","data-v-5e8d0752"]]);var P=I;const J={class:"container my-3"},Y={key:0},F={class:"mt-2"},T={key:1},H={class:"border-bottom py-2"},N={class:"card my-3"},z={class:"card-body"},B={class:"card-text my-2",style:{"white-space":"pre-line"}},G={class:"d-flex justify-content-end mt-3"},Z={class:"badge bg-light text-dark p-2 text-end"},ee={class:"fw-bold"},te={key:0},ne={class:"d-flex justify-content-end mt-2"},se={class:"answer-section card shadow-sm"},ae={class:"card-body"};function oe(e,t,n,o,r,l){const u=(0,a.g2)("AnswerList");return(0,a.uX)(),(0,a.CE)("div",J,[o.editMode?((0,a.uX)(),(0,a.CE)("div",Y,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.editedSubject=e),class:"form-control my-2"},null,512),[[s.Jo,o.editedSubject]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.editedContent=e),class:"form-control my-2",rows:"5"},null,512),[[s.Jo,o.editedContent]]),(0,a.Lk)("div",F,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.saveEdit&&o.saveEdit(...e)),class:"btn btn-success btn-sm"},"저장"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),class:"btn btn-secondary btn-sm"}," 취소 ")])])):((0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("h2",H,(0,c.v_)(o.question.subject),1),(0,a.Lk)("div",N,[(0,a.Lk)("div",z,[(0,a.Lk)("div",B,(0,c.v_)(o.question.content),1),(0,a.Lk)("div",G,[(0,a.Lk)("div",Z,[(0,a.Lk)("div",ee,(0,c.v_)(o.question.author?.username),1),(0,a.Lk)("div",null,"created at: "+(0,c.v_)(o.formatDate(o.question.createDate)),1),o.question.updateDate&&o.question.updateDate!==o.question.createDate?((0,a.uX)(),(0,a.CE)("div",te," updated at: "+(0,c.v_)(o.formatDate(o.question.updateDate)),1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",ne,[o.isAuthor?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>o.startEdit&&o.startEdit(...e)),class:"btn btn-sm btn-warning me-1"}," 수정 ")):(0,a.Q3)("",!0),o.isAuthor?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[5]||(t[5]=(...e)=>o.deleteQuestion&&o.deleteQuestion(...e)),class:"btn btn-sm btn-danger"}," 삭제 ")):(0,a.Q3)("",!0)])])])])),(0,a.Lk)("div",se,[t[6]||(t[6]=(0,a.Lk)("div",{class:"card-header bg-primary text-white"},[(0,a.Lk)("h5",{class:"mb-0"},"💬 답변 목록")],-1)),(0,a.Lk)("div",ae,[o.question.id?((0,a.uX)(),(0,a.Wv)(u,{key:0,questionId:o.question.id},null,8,["questionId"])):(0,a.Q3)("",!0)])])])}const re={class:"answer-container"},le={class:"card my-3"},ce={class:"card-body"},ue={key:0},ie={class:"mt-2"},de=["onClick"],me={key:1},ve={class:"card-text my-2",style:{"white-space":"pre-line"}},pe={class:"d-flex justify-content-end mt-3"},be={class:"badge bg-light text-dark p-2 text-end"},fe={class:"fw-bold"},ke={key:0},he={class:"d-flex justify-content-end mt-2"},ye=["onClick"],we=["onClick"],ge={class:"answer-form"};function Le(e,t,n,o,r,l){return(0,a.uX)(),(0,a.CE)("div",re,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.answers,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"answer-item"},[(0,a.Lk)("div",le,[(0,a.Lk)("div",ce,[o.editMode===e.comment.id?((0,a.uX)(),(0,a.CE)("div",ue,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.editedContent=e),class:"form-control",rows:"3"},null,512),[[s.Jo,o.editedContent]]),(0,a.Lk)("div",ie,[(0,a.Lk)("button",{onClick:t=>o.saveEdit(e),class:"btn btn-success btn-sm"}," 저장 ",8,de),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.cancelEdit&&o.cancelEdit(...e)),class:"btn btn-secondary btn-sm"}," 취소 ")])])):((0,a.uX)(),(0,a.CE)("div",me,[(0,a.Lk)("div",ve,(0,c.v_)(e.comment?.content||"내용 없음"),1),(0,a.Lk)("div",pe,[(0,a.Lk)("div",be,[(0,a.Lk)("div",fe,(0,c.v_)(e.comment?.author?.username||"익명"),1),(0,a.Lk)("div",null," created at: "+(0,c.v_)(o.formatDate(e.comment?.createDate)),1),e.comment?.updateDate&&e.comment?.updateDate!==e.comment?.createDate?((0,a.uX)(),(0,a.CE)("div",ke," updated at: "+(0,c.v_)(o.formatDate(e.comment?.updateDate)),1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",he,[o.isAuthor(e.comment)?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t=>o.startEdit(e),class:"btn btn-sm btn-warning me-1"}," 수정 ",8,ye)):(0,a.Q3)("",!0),o.isAuthor(e.comment)?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t=>o.deleteAnswer(e.comment.id),class:"btn btn-sm btn-danger"}," 삭제 ",8,we)):(0,a.Q3)("",!0)])]))])])])))),128)),(0,a.Lk)("div",ge,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newAnswer=e),class:"form-control",rows:"3",placeholder:"답변을 입력하세요"},null,512),[[s.Jo,o.newAnswer]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>o.submitAnswer&&o.submitAnswer(...e)),class:"btn btn-primary mt-2"}," 답변 등록 ")])])}var Ce={props:["questionId"],setup(e){const t=h(),n=(0,V.KR)([]),s=(0,V.KR)(""),o=(0,V.KR)(null),r=(0,V.KR)(""),l=(0,a.EW)((()=>t.currentUser)),c=async()=>{try{const t=await f.get(`/questions/${e.questionId}/answers`);n.value=t.data,console.log("댓글 목록:",t.data)}catch(t){console.error("답변 목록 불러오기 실패:",t)}},u=e=>l.value&&e?.author?.username===l.value,i=e=>{console.log("수정 버튼 클릭됨 - answer ID:",e.comment.id),o.value=e.comment.id,r.value=e.comment?.content||""},d=async e=>{try{await f.put(`/answers/${e.comment.id}`,{content:r.value},{withCredentials:!0}),await c(),o.value=null,r.value=""}catch(t){console.error("수정 실패:",t)}},m=()=>{o.value=null,r.value=""},v=async e=>{if(confirm("정말 삭제하시겠습니까?"))try{await f.delete(`/answers/${e}`,{withCredentials:!0}),await c()}catch(t){console.error("삭제 실패:",t)}},p=async()=>{if(s.value.trim())try{await f.post(`/answers/${e.questionId}`,{content:s.value},{withCredentials:!0}),await c(),s.value=""}catch(t){console.error("답변 등록 실패:",t)}else alert("답변을 입력해주세요.")};return(0,a.sV)((async()=>{await t.fetchUser(),await c()})),{answers:n,newAnswer:s,editMode:o,editedContent:r,submitAnswer:p,deleteAnswer:v,startEdit:i,saveEdit:d,cancelEdit:m,isAuthor:u,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm")}}};const Ee=(0,g.A)(Ce,[["render",Le],["__scopeId","data-v-18deedfd"]]);var Ue=Ee,_e={components:{AnswerList:Ue},setup(){const e=h(),t=(0,V.KR)({}),n=(0,V.KR)(!1),s=(0,V.KR)(""),o=(0,V.KR)(""),r=(0,a.EW)((()=>e.currentUser)),l=(0,a.EW)((()=>r.value&&t.value.author?.username===r.value)),c=async()=>{try{const e=window.location.pathname.split("/").pop(),n=await f.get(`/questions/${e}`,{withCredentials:!0});t.value=n.data}catch(e){console.error("질문 데이터 불러오기 실패:",e)}},u=()=>{n.value=!0,s.value=t.value.subject,o.value=t.value.content},i=async()=>{try{await f.put(`/questions/${t.value.id}`,{subject:s.value,content:o.value},{withCredentials:!0}),await c(),n.value=!1}catch(e){console.error("질문 수정 실패:",e)}},d=()=>{n.value=!1,s.value=t.value.subject,o.value=t.value.content},m=async()=>{if(confirm("정말 삭제하시겠습니까?"))try{await f.delete(`/questions/${t.value.id}`,{withCredentials:!0}),window.location.href="/"}catch(e){console.error("질문 삭제 실패:",e)}};return(0,a.sV)((async()=>{await e.fetchUser(),await c()})),{question:t,editMode:n,editedSubject:s,editedContent:o,currentUser:r,isAuthor:l,fetchQuestion:c,startEdit:u,saveEdit:i,cancelEdit:d,deleteQuestion:m,formatDate:e=>S()(e).format("YYYY-MM-DD HH:mm:ss")}}};const xe=(0,g.A)(_e,[["render",oe],["__scopeId","data-v-74d34ef8"]]);var Ae=xe;const qe={class:"container my-3"},Xe={class:"card my-3"},De={class:"card-body"};function Ke(e,t,n,o,r,l){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",qe,[t[4]||(t[4]=(0,a.Lk)("h2",{class:"border-bottom py-2"},"질문 작성",-1)),(0,a.Lk)("div",Xe,[(0,a.Lk)("div",De,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.subject=e),class:"form-control my-2",placeholder:"질문의 제목을 입력하세요"},null,512),[[s.Jo,r.subject]]),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.content=e),class:"form-control my-2",rows:"5",placeholder:"질문의 내용을 입력하세요"},null,512),[[s.Jo,r.content]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.submitQuestion&&l.submitQuestion(...e)),class:"btn btn-success btn-sm"}," 등록 "),(0,a.bF)(c,{to:"/",class:"btn btn-secondary btn-sm mx-2"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("취소")]))),_:1})])])])}var je={data(){return{subject:"",content:""}},methods:{async submitQuestion(){if(this.subject.trim()&&this.content.trim())try{await f.post("/questions/create",{subject:this.subject,content:this.content},{withCredentials:!0}),this.$router.push("/")}catch(e){console.error("질문 등록 실패:",e)}else alert("제목과 내용을 입력하세요.")}}};const Qe=(0,g.A)(je,[["render",Ke]]);var Re=Qe;const Me={class:"container my-3"},Oe={key:0,class:"alert alert-danger"},Ve={class:"mb-3"},We={class:"mb-3"};function Se(e,t,n,o,r,l){return(0,a.uX)(),(0,a.CE)("div",Me,[(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>o.handleLogin&&o.handleLogin(...e)),["prevent"]))},[o.errorMessage?((0,a.uX)(),(0,a.CE)("div",Oe,(0,c.v_)(o.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",Ve,[t[3]||(t[3]=(0,a.Lk)("label",{for:"username",class:"form-label"},"사용자ID",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"username",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e)},null,512),[[s.Jo,o.username]])]),(0,a.Lk)("div",We,[t[4]||(t[4]=(0,a.Lk)("label",{for:"password",class:"form-label"},"비밀번호",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[s.Jo,o.password]])]),t[5]||(t[5]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary"},"로그인",-1))],32)])}var $e={setup(){const e=(0,V.KR)(""),t=(0,V.KR)(""),n=(0,V.KR)(""),s=h(),a=(0,y.rd)(),o=async()=>{try{await f.post("/user/login",{username:e.value,password:t.value}),await s.fetchUser(),a.push("/")}catch(o){n.value="로그인 실패: "+(o.response?.data?.error||"서버 오류")}};return{username:e,password:t,errorMessage:n,handleLogin:o}}};const Ie=(0,g.A)($e,[["render",Se]]);var Pe=Ie;const Je={class:"container my-5"},Ye={key:0,class:"alert alert-success"},Fe={key:1,class:"alert alert-danger"},Te={class:"mb-3"},He={class:"mb-3"},Ne={class:"mb-3"},ze={class:"mb-3"};function Be(e,t,n,o,r,l){return(0,a.uX)(),(0,a.CE)("div",Je,[t[10]||(t[10]=(0,a.Lk)("h2",{class:"text-center mb-4"},"회원가입",-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,s.D$)(((...e)=>o.handleSignup&&o.handleSignup(...e)),["prevent"])),class:"p-4 border rounded shadow"},[o.successMessage?((0,a.uX)(),(0,a.CE)("div",Ye,(0,c.v_)(o.successMessage),1)):(0,a.Q3)("",!0),o.errorMessage?((0,a.uX)(),(0,a.CE)("div",Fe,(0,c.v_)(o.errorMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",Te,[t[5]||(t[5]=(0,a.Lk)("label",{for:"username",class:"form-label"},"사용자 ID",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),type:"text",class:"form-control",id:"username",required:""},null,512),[[s.Jo,o.username]])]),(0,a.Lk)("div",He,[t[6]||(t[6]=(0,a.Lk)("label",{for:"email",class:"form-label"},"이메일",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),type:"email",class:"form-control",id:"email",required:""},null,512),[[s.Jo,o.email]])]),(0,a.Lk)("div",Ne,[t[7]||(t[7]=(0,a.Lk)("label",{for:"password1",class:"form-label"},"비밀번호",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.password1=e),type:"password",class:"form-control",id:"password1",required:""},null,512),[[s.Jo,o.password1]])]),(0,a.Lk)("div",ze,[t[8]||(t[8]=(0,a.Lk)("label",{for:"password2",class:"form-label"},"비밀번호 확인",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.password2=e),type:"password",class:"form-control",id:"password2",required:""},null,512),[[s.Jo,o.password2]])]),t[9]||(t[9]=(0,a.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"가입하기",-1))],32)])}var Ge={setup(){const e=(0,y.rd)(),t=(0,V.KR)(""),n=(0,V.KR)(""),s=(0,V.KR)(""),a=(0,V.KR)(""),o=(0,V.KR)(""),r=(0,V.KR)(""),l=async()=>{if(s.value===a.value)try{const o=await f.post("/user/signup",{username:t.value,email:n.value,password1:s.value,password2:a.value});201===o.status&&(r.value="🎉 회원가입이 완료되었습니다! 로그인 페이지로 이동합니다.",setTimeout((()=>e.push("/login")),1500))}catch(l){console.error("❌ 회원가입 실패:",l),o.value=l.response?.data?.error||"회원가입에 실패했습니다."}else o.value="❌ 비밀번호가 일치하지 않습니다."};return{username:t,email:n,password1:s,password2:a,errorMessage:o,successMessage:r,handleSignup:l}}};const Ze=(0,g.A)(Ge,[["render",Be],["__scopeId","data-v-df29f85c"]]);var et=Ze;const tt=[{path:"/",component:P},{path:"/questions/:id",component:Ae},{path:"/questions/new",component:Re,meta:{requiresAuth:!0}},{path:"/login",component:Pe,meta:{guestOnly:!0}},{path:"/signup",component:et,meta:{guestOnly:!0}}],nt=(0,y.aE)({history:(0,y.LA)(),routes:tt});nt.beforeEach((async(e,t,n)=>{const s=h();try{await s.fetchUser(),e.meta.requiresAuth&&!s.currentUser?n("/login"):e.meta.guestOnly&&s.currentUser?n("/"):n()}catch(a){console.error("유저 확인 중 오류:",a),n("/login")}}));var st=nt;const at=(0,s.Ef)(_);at.config.globalProperties.$api=f,at.use((0,k.Ey)()),at.use(st),at.mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var r=1/0;for(i=0;i<e.length;i++){s=e[i][0],a=e[i][1],o=e[i][2];for(var l=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[c])}))?s.splice(c--,1):(l=!1,o<r&&(r=o));if(l){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[s,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,r=s[0],l=s[1],c=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(c)var i=c(n)}for(t&&t(s);u<r.length;u++)o=r[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(i)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[504],(function(){return n(4321)}));s=n.O(s)})();
//# sourceMappingURL=app.f10083de.js.map